---
title: 视频流项目优化
highlight: a11y-light
theme: channing-cyan
---


## 前言

本文主要实现：h5上的开屏广告的优化

简单理解：在原本的SSR项目上嵌套一个h5模板项目（类似开屏广告）

要求：
1. 开屏广告最快的时间出来，（原本的主流程可以滞后）
2. 开屏广告可以关闭，关闭后，呈现原来的主项目流程
3. 开屏广告一定在最上层
4. 开屏广告是一个落地页，这个落地页渲染出来 要求可以直接能玩


## 需求分析

最先想到的就两种实现方式：
1. 新开一个webview，webview渲染开屏广告，主流程接着走；（前提得有sdk支撑）
2. 直接使用iframe，iframe渲染开屏广告，主流程接着走；（纯h5就能实现）

先分析一下优缺点：
### 新开webview

优点：
1. 开屏广告可以关闭，关闭后，呈现原来的主项目流程
2. 开屏广告一定在最上层
3. 实现起来最简单、方便（相对h5来说）

缺点：
1. 需要有sdk支撑

### iframe
优点：
1. 纯h5就能实现
2. 开屏广告可以关闭，关闭按钮，h5感知，（当然如果webview那种也可以消息通知）
缺点：
1. 实现起来相对麻烦些：需要控制广告层级、关闭、主流程的延时渲染

具体实现分析：
