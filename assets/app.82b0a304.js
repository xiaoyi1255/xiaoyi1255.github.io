import{_ as v,s as g,f as y,w as C,h as u,o as d,c as A,x as s,N as w,O as x,y as P,z as E,b as V,D as b,K as p,a3 as I,a4 as L,a5 as R,a6 as T,a7 as B,a8 as S,a9 as k,aa as O,ab as D,ac as N,H as $,d as j,u as q,l as z,ad as F,ae as H,af as M,ag as G}from"./chunks/framework.48b60373.js";import{t as m}from"./chunks/theme.6860632f.js";const l=e=>(w("data-v-d3fa9986"),e=e(),x(),e),K={class:"page"},Q={class:"page-edit"},J={class:"page-edit-read"},U=["data-flag-title"],Y=l(()=>s("em",{class:"post-meta-item-text"},"阅读量： ",-1)),Z=l(()=>s("i",{class:"leancloud-visitors-count"},null,-1)),W=[Y,Z],X=l(()=>s("div",{id:"vcomments"},null,-1)),ee={__name:"ValineComment",setup(e){const t=g(),a=y("默认pageTitle"),n=()=>{var c;let i=location.origin+location.pathname;document.getElementsByClassName("leancloud-visitors")[0].id=i,a.value=`${(c=document.querySelector(".is-active .text"))==null?void 0:c.innerHTML}:(${location.pathname})`,new Valine({el:"#vcomments",appId:"Iicq7kgu05xqkYFa5CpPO8sE-gzGzoHsz",appKey:"ttLJhzck3CpcCLR9ZqFOAqBx",path:i,visitor:!0,avatar:"mp",recordIP:!0,enableQQ:!0,placeholder:"请在这里留下你的留言！！！"})};C(()=>t.path,()=>{n()}),u(()=>{f("//unpkg.com/valine/dist/Valine.min.js").then(()=>n())});function f(i){return new Promise(c=>{var h=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",i),h.appendChild(r),r.onload=function(){c()}})}return(i,c)=>(d(),A("div",K,[s("section",Q,[s("div",J,[s("span",{class:"leancloud-visitors","data-flag-title":a.value},W,8,U)]),X])]))}},te=v(ee,[["__scopeId","data-v-d3fa9986"]]),ae={__name:"MyLayout",setup(e){const{Layout:t}=m;return(a,n)=>(d(),P(V(t),null,{"doc-after":E(()=>[b(te)]),_:1}))}},ne={...m,Layout:ae};function _(e){if(e.extends){const t=_(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const o=_(ne),se=j({name:"VitePressApp",setup(){const{site:e}=q();return u(()=>{z(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),F(),H(),M(),o.setup&&o.setup(),()=>G(o.Layout)}});async function oe(){const e=ce(),t=ie();t.provide(L,e);const a=R(e.route);return t.provide(T,a),t.component("Content",B),t.component("ClientOnly",S),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:t,router:e,siteData:k}),{app:t,router:e,data:a}}function ie(){return O(se)}function ce(){let e=p,t;return D(a=>{let n=N(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),p&&(e=!1),$(()=>import(n),[])},o.NotFound)}p&&oe().then(({app:e,router:t,data:a})=>{t.go().then(()=>{I(t.route,a.site),e.mount("#app")})});export{oe as createApp};
