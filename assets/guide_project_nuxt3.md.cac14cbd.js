import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.f4b23984.js";const A=JSON.parse('{"title":"项目","titleTemplate":"Nuxt3","description":"","frontmatter":{"title":"项目","titleTemplate":"Nuxt3"},"headers":[],"relativePath":"guide/project/nuxt3.md","lastUpdated":1703575129000}'),p={name:"guide/project/nuxt3.md"},o=l(`<p>本文主要介绍了从零搭建一个nuxt3 的<strong>SSR</strong>项目：页面配置、CSS处理、路由使用、组件定义、自定义hooks、server、<strong>middleware</strong></p><p>中文官网： <a href="https://www.nuxtjs.org.cn/getting-started/installation.html#%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE" target="_blank" rel="noreferrer">https://www.nuxtjs.org.cn</a></p><p>环境搭建：node 版本 &gt; 14 我是 14.18.1</p><h2 id="初始化项目" tabindex="-1">初始化项目 <a class="header-anchor" href="#初始化项目" aria-label="Permalink to &quot;初始化项目 {#初始化项目}&quot;">​</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">npx nuxi init appName</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 进入项目 &amp; 安装依赖 可以使用 yarn npm 或者其它</span></span>
<span class="line"><span style="color:#A6ACCD;">cd appName </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> yarn </span></span>
<span class="line"></span></code></pre></div><h4 id="注意-初始化失败处理" tabindex="-1">注意：初始化失败处理 <a class="header-anchor" href="#注意-初始化失败处理" aria-label="Permalink to &quot;注意：初始化失败处理&quot;">​</a></h4><p>如果没有以下报错则忽略继续往下</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ERROR  Failed to download template from </span><span style="color:#FFCB6B;">registry</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> request to </span><span style="color:#FFCB6B;">https</span><span style="color:#89DDFF;">:</span><span style="color:#676E95;font-style:italic;">//raw.githubusercontent.com/nuxt/starter/templates/templates/v3.json failed,reason: getaddrinfo ENOENT raw.githubusercontent.com</span></span>
<span class="line"></span></code></pre></div><p>开始是觉得 没有翻墙的问题，还没搭了梯子还是不行，只能去<a href="https://github.com/search?q=nuxt3" target="_blank" rel="noreferrer">git</a>拉模板了</p><h2 id="启动项目" tabindex="-1">启动项目 <a class="header-anchor" href="#启动项目" aria-label="Permalink to &quot;启动项目 {#启动项目}&quot;">​</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">yarn dev </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">o </span></span>
<span class="line"></span></code></pre></div><p>看到下面的初始化页面，说明成功启动了项目</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7cea17a52af4e86966dda0b98ac5e87~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h2 id="项目目录" tabindex="-1">项目目录 <a class="header-anchor" href="#项目目录" aria-label="Permalink to &quot;项目目录 {#项目目录}&quot;">​</a></h2><p>细心的小伙伴就会发现，我们的目录很简洁</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">nuxt</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> node_modules</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">gitignore </span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">vue </span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> nuxt</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ts</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">package</span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">lock</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">jso</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> package</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">json</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> README</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">md</span></span>
<span class="line"><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> tsconfig</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">json  </span></span>
<span class="line"></span></code></pre></div><p>这里我们可以配置成平常的开发目录</p><h4 id="新增src-目录" tabindex="-1">新增src 目录 <a class="header-anchor" href="#新增src-目录" aria-label="Permalink to &quot;新增src 目录&quot;">​</a></h4><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e5e904a10334534ac9e11fc8edf7dd4~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h4 id="注意-nuxt是约定式的目录结构" tabindex="-1">注意：nuxt是约定式的目录结构 <a class="header-anchor" href="#注意-nuxt是约定式的目录结构" aria-label="Permalink to &quot;注意：nuxt是约定式的目录结构&quot;">​</a></h4><p>我们新增了src框架本身并不能识别，所以需要配置在 nuxt.sonfig.ts文件中进行配置</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e18e6912d5fb465e87ef0edc5fa82247~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h2 id="项目开发注意点" tabindex="-1">项目开发注意点 <a class="header-anchor" href="#项目开发注意点" aria-label="Permalink to &quot;项目开发注意点 {#项目开发注意点}&quot;">​</a></h2><h4 id="_1-配置-title-、meta-、及外链的引入-【全局和具体页面】" tabindex="-1">1.配置 title 、meta 、及外链的引入 【全局和具体页面】 <a class="header-anchor" href="#_1-配置-title-、meta-、及外链的引入-【全局和具体页面】" aria-label="Permalink to &quot;1.配置 title 、meta 、及外链的引入 【全局和具体页面】&quot;">​</a></h4><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 这里配置的是全局的</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// nuxt.config.ts </span></span>
<span class="line"><span style="color:#FFCB6B;">app</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">head</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">title</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">项目名称</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">meta</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">script</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">link</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">style</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> []</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 具体页面</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">script lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#82AAFF;">useHead</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">titleTemplate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">项目名称</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;">// 可以写模板</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">viewport</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">width=device-width, initial-scale=1, maximum-scale=1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">charset</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf-8</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">meta</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">My amazing site.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// body添加类名</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">bodyAttrs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">class</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><h4 id="_2-css-预处理" tabindex="-1">2. css 预处理 <a class="header-anchor" href="#_2-css-预处理" aria-label="Permalink to &quot;2. css 预处理&quot;">​</a></h4><h5 id="安装less" tabindex="-1">安装less <a class="header-anchor" href="#安装less" aria-label="Permalink to &quot;安装less&quot;">​</a></h5><p>如果我们vue 文件中使用了 less、scss 或者其它css预处理语言，会报错，因为nuxt3 没有内置</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/519a1046173b425891b1e7efea2cc1ad~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">yarn add less </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 或</span></span>
<span class="line"><span style="color:#A6ACCD;">npm i less </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;">D</span></span>
<span class="line"></span></code></pre></div><p>安装less 之后就可以正常使用less 语法了</p><h5 id="全局css-样式、var" tabindex="-1">全局css 样式、var <a class="header-anchor" href="#全局css-样式、var" aria-label="Permalink to &quot;全局css 样式、var&quot;">​</a></h5><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// nuxt.config.ts </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 这里和vite 中配置的意义</span></span>
<span class="line"><span style="color:#FFCB6B;">vite</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">css</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">preprocessorOptions</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#FFCB6B;">less</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">modifyVars</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@theme-colors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#333333</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@assist-colors</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#EE1B24</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@white</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#FFFFFF</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">javascriptEnabled</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">additionalData</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">@import &quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">resolve</span><span style="color:#A6ACCD;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/assets/style/mixin.less</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&quot;;</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#F07178;">              </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><h5 id="postcss-配置" tabindex="-1">postcss 配置 <a class="header-anchor" href="#postcss-配置" aria-label="Permalink to &quot;postcss 配置&quot;">​</a></h5><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">postcss</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#676E95;font-style:italic;">// 这个工具可以实现自动添加CSS3前缀</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">autoprefixer</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                overrideBrowserslist</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">last 5 version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">&gt;1%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ie &gt;=8</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">postcss-pxtorem</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                rootValue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">192</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 指定转换倍率，我现在设置这个表示1rem=192px;</span></span>
<span class="line"><span style="color:#F07178;">                propList</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 属性列表，表示你要把哪些css属性的px转换成rem，这个*表示所有</span></span>
<span class="line"><span style="color:#F07178;">                mediaQuery</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 是否允许使用媒体查询，false媒体查询的代码可用，true不可用</span></span>
<span class="line"><span style="color:#F07178;">                exclude</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ignore</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                replace</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 替换包含rem的规则，而不是添加回退</span></span>
<span class="line"><span style="color:#F07178;">                minPixelValue</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 需要转换的最小值，一般1px像素不转换，以上才转换</span></span>
<span class="line"><span style="color:#F07178;">                unitPrecision</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 转换成rem单位的小数点后的保留位数</span></span>
<span class="line"><span style="color:#F07178;">                selectorBalckList</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/.van-/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// 匹配不被转换为rem的选择器</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span></code></pre></div><h4 id="_3-路由定义" tabindex="-1">3. 路由定义 <a class="header-anchor" href="#_3-路由定义" aria-label="Permalink to &quot;3. 路由定义&quot;">​</a></h4><p>不需声明路由文件及配置，需在<strong>pages</strong>下写对应的页面，嵌套路由配置成文件夹</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c0aef229f82e4ca5bfed91877002b6cb~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h4 id="_4-组件定义" tabindex="-1">4.组件定义 <a class="header-anchor" href="#_4-组件定义" aria-label="Permalink to &quot;4.组件定义&quot;">​</a></h4><p>和路由一样，不需要额外申明，需在<strong>components</strong>下定义</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/186c4018b3b446e3840f2840b14eedb9~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>组件的使用： 在任意vue 文件中使用 正常使用组件懒加载</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 正常使用</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">template</span><span style="color:#A6ACCD;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">ListButton </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 组价**懒加载** 前面 + Lazy</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;</span><span style="color:#FFCB6B;">template</span><span style="color:#A6ACCD;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">LazyListButton </span><span style="color:#89DDFF;">/&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><strong>组件懒加载</strong></p><h4 id="_5-自定义hooks" tabindex="-1">5.自定义hooks <a class="header-anchor" href="#_5-自定义hooks" aria-label="Permalink to &quot;5.自定义hooks&quot;">​</a></h4><p>在 <strong>composables</strong> 下声明文件</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1fddd704477a4918bf5cf0eef266fc31~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>使用</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/738f9f0b05f3494cba11c213f348a447~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h4 id="_6-server-的使用" tabindex="-1">6.server 的使用 <a class="header-anchor" href="#_6-server-的使用" aria-label="Permalink to &quot;6.server 的使用&quot;">​</a></h4><p>在 <strong>server</strong> 下声明并使用</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// src/server/api/user.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Promise</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        code</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">200</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        data</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">xiaoyi</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// pages/index.vue</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">script lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> setup</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> res </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">$fetch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/api/user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(res) </span><span style="color:#676E95;font-style:italic;">// {&quot;code&quot;: 200, &quot;data&quot;: { &quot;name&quot;: &quot;xiaoyi&quot;} }</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8b60ba78927b4068a0ef5289173faee0~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>除了已上的使用，我们还可以使用中间件，针对业务打一些<strong>日志</strong>呀什么的，需要注意的是 它是所有请求都会经过这个<strong>中间件</strong></p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// 这里需要先安装一下 h3</span></span>
<span class="line"><span style="color:#A6ACCD;">yarn add h3</span></span>
<span class="line"></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24e63a7f18194299be6702c4c14e19f2~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p><strong>在服务端获取数据的使用</strong></p><ul><li>useAsyncData</li><li>useFetch</li><li>useLazyAsyncData</li><li>useLazyFetch</li></ul><h2 id="源码" tabindex="-1">源码 <a class="header-anchor" href="#源码" aria-label="Permalink to &quot;源码 {#源码}&quot;">​</a></h2><p><a href="https://github.com/xiaoyi1255/nuxt3-temple.git" target="_blank" rel="noreferrer">nuxt3-temple</a></p>`,60),e=[o];function t(c,r,y,F,D,i){return a(),n("div",null,e)}const u=s(p,[["render",t]]);export{A as __pageData,u as default};
