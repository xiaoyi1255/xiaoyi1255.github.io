import{_ as v,s as g,f as y,w as C,h as u,o as d,c as A,x as s,N as w,O as x,y as P,z as E,b as V,C as I,d as b,K as p,ah as L,u as R,l as T,ai as k,aj as B,ak as S,a9 as O,al as j,am as q,an as N,ao as $,ap as z,aq as D,ar as F,as as H,at as M,H as G}from"./chunks/framework.1456bef9.js";import{t as m}from"./chunks/theme.875958b5.js";const l=e=>(w("data-v-ca174175"),e=e(),x(),e),K={class:"page"},Q={class:"page-edit"},J={class:"page-edit-read"},U=["data-flag-title"],Y=l(()=>s("em",{class:"post-meta-item-text"},"阅读量： ",-1)),Z=l(()=>s("i",{class:"leancloud-visitors-count"},null,-1)),W=[Y,Z],X=l(()=>s("div",{id:"vcomments"},null,-1)),ee={__name:"ValineComment",setup(e){const t=g(),a=y("默认pageTitle"),n=()=>{var i;let c=location.origin+location.pathname;document.getElementsByClassName("leancloud-visitors")[0].id=c,a.value=`${(i=document.querySelector(".is-active .text"))==null?void 0:i.innerHTML}:(${location.pathname})`,new Valine({el:"#vcomments",appId:"Iicq7kgu05xqkYFa5CpPO8sE-gzGzoHsz",appKey:"ttLJhzck3CpcCLR9ZqFOAqBx",path:c,visitor:!0,avatar:"mp",recordIP:!0,enableQQ:!0,placeholder:"请在这里留下你的留言！！！"})};C(()=>t.path,()=>{n()}),u(()=>{h("//unpkg.com/valine/dist/Valine.min.js").then(()=>n())});function h(c){return new Promise(i=>{var f=document.getElementsByTagName("head")[0],r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",c),f.appendChild(r),r.onload=function(){i()}})}return(c,i)=>(d(),A("div",K,[s("section",Q,[s("div",J,[s("span",{class:"leancloud-visitors","data-flag-title":a.value},W,8,U)]),X])]))}},te=v(ee,[["__scopeId","data-v-ca174175"]]),ae={__name:"MyLayout",setup(e){const{Layout:t}=m;return(a,n)=>(d(),P(V(t),null,{"doc-after":E(()=>[I(te)]),_:1}))}},ne={...m,Layout:ae};function _(e){if(e.extends){const t=_(e.extends);return{...t,...e,async enhanceApp(a){t.enhanceApp&&await t.enhanceApp(a),e.enhanceApp&&await e.enhanceApp(a)}}}return e}const o=_(ne),se=b({name:"VitePressApp",setup(){const{site:e}=R();return u(()=>{T(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),k(),B(),S(),o.setup&&o.setup(),()=>O(o.Layout)}});async function oe(){const e=ie(),t=ce();t.provide(j,e);const a=q(e.route);return t.provide(N,a),t.component("Content",$),t.component("ClientOnly",z),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return a.frontmatter.value}},$params:{get(){return a.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:t,router:e,siteData:D}),{app:t,router:e,data:a}}function ce(){return F(se)}function ie(){let e=p,t;return H(a=>{let n=M(a);return e&&(t=n),(e||t===n)&&(n=n.replace(/\.js$/,".lean.js")),p&&(e=!1),G(()=>import(n),[])},o.NotFound)}p&&oe().then(({app:e,router:t,data:a})=>{t.go().then(()=>{L(t.route,a.site),e.mount("#app")})});export{oe as createApp};
